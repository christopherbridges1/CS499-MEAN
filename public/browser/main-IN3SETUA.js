import{$ as Z,A as p,B as he,C as Q,D as a,E as g,F as j,G as _,H as b,I as C,J as Oe,K as ve,L as R,M as U,N as M,O as y,P as Ee,Q as ke,R as Ae,S as Ie,T as V,U as I,V as D,W as X,X as Le,Y as L,Z as H,_ as q,a as w,aa as ee,b as k,ba as G,c as Ce,ca as te,d as N,da as Te,e as B,ea as Fe,f as fe,fa as Ne,g as S,ga as De,h as P,ha as ze,i as ye,ia as K,j as u,k as Me,l as we,m as Se,n as l,o as h,p as v,q as f,r as Pe,s as m,t as i,u as r,v as x,w as $,x as Y,y as A,z as c}from"./chunk-IMTNWI7D.js";var z=class o{constructor(t){this.auth=t}favoritesChanged=u(0);key(){let t=this.auth.user();return t?`favorites:${t.id}`:"favorites:guest"}readSet(){let t=localStorage.getItem(this.key()),e=t?JSON.parse(t):[];return new Set(e)}writeSet(t){localStorage.setItem(this.key(),JSON.stringify(Array.from(t)))}list(){return Array.from(this.readSet())}has(t){return this.readSet().has(t)}toggle(t){let e=this.readSet();return e.has(t)?e.delete(t):e.add(t),this.writeSet(e),this.favoritesChanged.update(n=>n+1),e.has(t)}count(){return this.readSet().size}clear(){this.writeSet(new Set),this.favoritesChanged.update(t=>t+1)}async listAnimals(){let t=this.auth.getToken();if(!t)return[];let e=await fetch("/api/favorites",{headers:{Authorization:`Bearer ${t}`}}),n=await e.json().catch(()=>null);if(!e.ok||!n?.ok)throw new Error(n?.error||"Failed to load favorites");return n.animals||[]}async toggleServerNoLocal(t,e){let n=this.auth.getToken();if(!n)throw new Error("Not logged in");let d=e?"DELETE":"POST",s=await fetch(`/api/favorites/${t}`,{method:d,headers:{Authorization:`Bearer ${n}`}}),E=await s.json().catch(()=>({}));if(!s.ok||E?.ok===!1)throw new Error(E?.error||"Failed to update favorite");this.favoritesChanged.update(F=>F+1)}static \u0275fac=function(e){return new(e||o)(B(L))};static \u0275prov=N({token:o,factory:o.\u0275fac,providedIn:"root"})};var Ve=()=>({exact:!0});function He(o,t){if(o&1&&(i(0,"span",13),a(1),r()),o&2){let e=p();l(),j(" \u2764\uFE0F ",e.fav.count()," ")}}function qe(o,t){o&1&&(i(0,"a",14),a(1,"Login"),r())}function Ge(o,t){if(o&1){let e=A();i(0,"button",15),c("click",function(){S(e);let d=p();return P(d.auth.logout())}),a(1,"Logout"),r()}}var ie=class o{constructor(t,e){this.auth=t;this.fav=e}static \u0275fac=function(e){return new(e||o)(h(L),h(z))};static \u0275cmp=v({type:o,selectors:[["app-customer-header"]],decls:17,vars:6,consts:[[1,"topbar"],[1,"container"],["routerLink","/",1,"brand"],["alt","Grazioso Salvare logo",1,"logo",3,"src"],[1,"brand-text"],[1,"title"],[1,"subtitle"],[1,"nav"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions"],["routerLink","/browse","routerLinkActive","active"],["class","fav",4,"ngIf"],["class","cta","routerLink","/customer/login",4,"ngIf"],["class","ghost",3,"click",4,"ngIf"],[1,"fav"],["routerLink","/customer/login",1,"cta"],[1,"ghost",3,"click"]],template:function(e,n){e&1&&(i(0,"header",0)(1,"div",1)(2,"a",2),x(3,"img",3),i(4,"div",4)(5,"div",5),a(6,"Grazioso Salvare"),r(),i(7,"div",6),a(8,"Adoption & Rescue"),r()()(),i(9,"nav",7)(10,"a",8),a(11,"Home"),r(),i(12,"a",9),a(13,"Browse"),r(),f(14,He,2,1,"span",10)(15,qe,2,0,"a",11)(16,Ge,2,0,"button",12),r()()()),e&2&&(l(3),m("src","/assets/logo.png",we),l(7),m("routerLinkActiveOptions",Oe(5,Ve)),l(4),m("ngIf",n.auth.isLoggedIn()),l(),m("ngIf",!n.auth.isLoggedIn()),l(),m("ngIf",n.auth.isLoggedIn()))},dependencies:[y,M,D,X],styles:[".topbar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10;background:#ffffffe6;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-bottom:1px solid var(--border)}.container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;padding:14px 16px;display:flex;align-items:center;justify-content:space-between;gap:16px}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;text-decoration:none}.logo[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;object-fit:contain}.title[_ngcontent-%COMP%]{font-weight:900}.subtitle[_ngcontent-%COMP%]{color:var(--muted);font-size:12px;margin-top:2px}.nav[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--muted);font-weight:800;padding:8px 10px;border-radius:12px}.nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#1118270d;color:var(--text)}.fav[_ngcontent-%COMP%]{font-weight:900;color:var(--text);background:#1118270d;border:1px solid var(--border);padding:7px 10px;border-radius:999px}a.cta[_ngcontent-%COMP%]{background:var(--accent);color:#fff!important;padding:9px 12px}button.ghost[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--border);padding:9px 12px;border-radius:12px;font-weight:900;cursor:pointer;color:var(--text)}.admin-link[_ngcontent-%COMP%]{border:1px solid var(--border);background:#fff;color:var(--muted)}.admin-link[_ngcontent-%COMP%]:hover{color:var(--text);background:#1118270d}"]})};var re=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=v({type:o,selectors:[["app-customer-layout"]],decls:4,vars:0,consts:[[1,"page"],[1,"page-container"]],template:function(e,n){e&1&&(x(0,"app-customer-header"),i(1,"main",0)(2,"div",1),x(3,"router-outlet"),r()())},dependencies:[V,ie],styles:[".page[_ngcontent-%COMP%]{background:var(--bg);min-height:calc(100vh - 64px);padding:24px 16px}.page-container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto}"]})};var oe=class o{constructor(t){this.router=t}isLoggedIn=u(localStorage.getItem("isLoggedIn")==="true");login(t,e){return!t?.trim()||!e?.trim()?!1:(localStorage.setItem("isLoggedIn","true"),this.isLoggedIn.set(!0),!0)}logout(){localStorage.removeItem("isLoggedIn"),this.isLoggedIn.set(!1),this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||o)(B(I))};static \u0275prov=N({token:o,factory:o.\u0275fac,providedIn:"root"})};function Je(o,t){if(o&1){let e=A();i(0,"button",12),c("click",function(){S(e);let d=p();return P(d.auth.logout())}),a(1," Logout "),r()}}function $e(o,t){o&1&&(i(0,"a",13),a(1," Login "),r())}var ae=class o{constructor(t){this.auth=t}static \u0275fac=function(e){return new(e||o)(h(oe))};static \u0275cmp=v({type:o,selectors:[["app-header"]],decls:16,vars:2,consts:[[1,"topbar"],[1,"container"],["routerLink","/animals",1,"brand"],["src","/assets/logo.png","alt","Grazioso Salvare logo",1,"logo"],[1,"brand-text"],[1,"title"],[1,"pill"],[1,"subtitle"],[1,"nav"],["routerLink","/animals","routerLinkActive","active"],["class","logout",3,"click",4,"ngIf"],["class","login","routerLink","/login",4,"ngIf"],[1,"logout",3,"click"],["routerLink","/login",1,"login"]],template:function(e,n){e&1&&(i(0,"header",0)(1,"div",1)(2,"a",2),x(3,"img",3),i(4,"div",4)(5,"div",5),a(6," Grazioso Salvare "),i(7,"span",6),a(8,"ADMIN"),r()(),i(9,"div",7),a(10,"Animal Shelter Dashboard"),r()()(),i(11,"nav",8)(12,"a",9),a(13,"Animals"),r(),f(14,Je,2,0,"button",10)(15,$e,2,0,"a",11),r()()()),e&2&&(l(14),m("ngIf",n.auth.isLoggedIn()),l(),m("ngIf",!n.auth.isLoggedIn()))},dependencies:[y,M,D,X],styles:[".topbar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10;background:#ffffffd9;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-bottom:1px solid var(--border)}.container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;padding:12px 16px;display:flex;align-items:center;justify-content:space-between;gap:16px}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;text-decoration:none}.logo[_ngcontent-%COMP%]{width:38px;height:38px;object-fit:contain;border-radius:10px}.brand-text[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:800;letter-spacing:.2px;font-size:15px;line-height:1.1}.brand-text[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:12px;color:var(--muted);margin-top:2px}.nav[_ngcontent-%COMP%]{display:flex;gap:10px}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--muted);padding:8px 10px;border-radius:12px;transition:background .15s ease,color .15s ease}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#1118270d;color:var(--text)}.nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:var(--accent-weak);color:var(--accent);font-weight:600}.pill[_ngcontent-%COMP%]{display:inline-flex;align-items:center;margin-left:8px;padding:3px 8px;border-radius:999px;font-size:11px;font-weight:800;letter-spacing:.6px;background:var(--accent-weak);color:var(--accent)}button.logout[_ngcontent-%COMP%]{padding:8px 10px;border-radius:12px;border:1px solid var(--border);background:transparent;color:var(--muted);cursor:pointer;font-weight:700}a.login[_ngcontent-%COMP%]{text-decoration:none;padding:8px 10px;border-radius:12px;background:var(--accent-weak);color:var(--accent);font-weight:800}"]})};var se=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=v({type:o,selectors:[["app-admin-layout"]],decls:4,vars:0,consts:[[1,"page"],[1,"page-container"]],template:function(e,n){e&1&&(x(0,"app-header"),i(1,"main",0)(2,"div",1),x(3,"router-outlet"),r()())},dependencies:[V,ae],styles:[".page[_ngcontent-%COMP%]{background:var(--bg);min-height:calc(100vh - 64px);padding:24px 16px}.page-container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto}"]})};function Ye(o,t){o&1&&($(0),i(1,"div",6),a(2,"Loading your favorites\u2026"),r(),Y())}function Qe(o,t){if(o&1){let e=A();$(0),i(1,"div",6),a(2),r(),i(3,"a",7),c("click",function(){S(e);let d=p(2);return P(d.loadFavorites())}),a(4,"Retry \u2192"),r(),Y()}if(o&2){let e=p(2);l(2),g(e.favoritesError)}}function Xe(o,t){if(o&1&&(i(0,"div",11)(1,"strong"),a(2),r(),i(3,"div",12),a(4),r(),i(5,"div",13),a(6),r()()),o&2){let e=t.$implicit;l(2),g(e.name),l(2),g(e.breed),l(2),g(e.status||"Available")}}function Ze(o,t){if(o&1&&($(0),i(1,"div",8),f(2,Xe,7,3,"div",9),r(),i(3,"a",10),a(4,"View Favorites \u2192"),r(),Y()),o&2){let e=p(2);l(2),m("ngForOf",e.favoriteAnimals)}}function et(o,t){o&1&&(i(0,"div",14),a(1,"Favorites \u2764\uFE0F"),r(),i(2,"div",6),a(3,"You haven\u2019t favorited any dogs yet."),r(),i(4,"a",10),a(5,"Browse Dogs \u2192"),r())}function tt(o,t){if(o&1&&($(0),f(1,Ye,3,0,"ng-container",5)(2,Qe,5,1,"ng-container",5)(3,Ze,5,1,"ng-container",4)(4,et,6,0,"ng-template",null,1,ve),Y()),o&2){let e=he(5),n=p();l(),m("ngIf",n.loadingFavorites),l(),m("ngIf",!n.loadingFavorites&&n.favoritesError),l(),m("ngIf",!n.loadingFavorites&&!n.favoritesError&&n.favoriteAnimals.length>0)("ngIfElse",e)}}function nt(o,t){o&1&&(i(0,"div",14),a(1,"Favorites \u2764\uFE0F"),r(),i(2,"div",6),a(3,"Log in to save dogs you love."),r(),i(4,"a",15),a(5,"Customer Login \u2192"),r())}var le=class o{constructor(t,e,n){this.router=t;this.auth=e;this.favorites=n;this.navSub=this.router.events.pipe(Ce(d=>d instanceof Ie)).subscribe(()=>{(this.router.url==="/"||this.router.url.startsWith("/home"))&&this.loadFavorites()}),Me(()=>{this.auth.user(),this.favorites.favoritesChanged(),this.loadFavorites()}),queueMicrotask(()=>{this.loadFavorites()})}favoriteAnimals=[];loadingFavorites=!1;favoritesError="";didRetryEmpty=!1;loadSeq=0;navSub;ngOnDestroy(){this.navSub.unsubscribe()}async loadFavorites(){let t=++this.loadSeq;if(this.favoritesError="",!this.auth.isLoggedIn()){this.favoriteAnimals=[],this.didRetryEmpty=!1;return}this.loadingFavorites=!0;try{let e=await this.favorites.listAnimals();if(e.length===0&&!this.didRetryEmpty){if(this.didRetryEmpty=!0,await new Promise(d=>setTimeout(d,250)),t!==this.loadSeq)return;let n=await this.favorites.listAnimals();t===this.loadSeq&&(this.favoriteAnimals=n);return}this.didRetryEmpty=!1,t===this.loadSeq&&(this.favoriteAnimals=e)}catch(e){t===this.loadSeq&&(this.favoritesError=e?.message||"Failed to load favorites",this.favoriteAnimals=[])}finally{t===this.loadSeq&&(this.loadingFavorites=!1)}}static \u0275fac=function(e){return new(e||o)(h(I),h(L),h(z))};static \u0275cmp=v({type:o,selectors:[["app-home"]],decls:6,vars:2,consts:[["loggedOut",""],["noneYet",""],[1,"hero-card"],[1,"badge"],[4,"ngIf","ngIfElse"],[4,"ngIf"],[1,"small"],[1,"ghost","small",2,"cursor","pointer",3,"click"],[1,"favorites-list"],["class","favorite",4,"ngFor","ngForOf"],["routerLink","/browse",1,"ghost","small"],[1,"favorite"],[1,"meta"],[1,"status"],[1,"big"],["routerLink","/customer/login",1,"ghost","small"]],template:function(e,n){if(e&1&&(i(0,"div",2)(1,"div",3),a(2,"Favorites \u2764\uFE0F"),r(),f(3,tt,6,4,"ng-container",4)(4,nt,6,0,"ng-template",null,0,ve),r()),e&2){let d=he(5);l(3),m("ngIf",n.auth.isLoggedIn())("ngIfElse",d)}},dependencies:[y,U,M,D],styles:[".page[_ngcontent-%COMP%]{background:var(--bg);min-height:calc(100vh - 64px);padding:28px 16px}.hero[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;display:grid;grid-template-columns:1.5fr 1fr;gap:18px;align-items:start}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:42px;line-height:1.05;letter-spacing:-.8px}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0 0;color:var(--muted);font-size:16px;max-width:560px}.actions[_ngcontent-%COMP%]{margin-top:16px;display:flex;gap:10px}.actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-weight:900;border-radius:14px;padding:10px 14px}.actions[_ngcontent-%COMP%]   a.primary[_ngcontent-%COMP%]{background:var(--accent);color:#fff}.actions[_ngcontent-%COMP%]   a.ghost[_ngcontent-%COMP%]{border:1px solid var(--border);background:#fff;color:var(--text)}.hero-card[_ngcontent-%COMP%]{background:#fff;border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:18px}.badge[_ngcontent-%COMP%]{display:inline-block;font-weight:900;font-size:12px;padding:6px 10px;border-radius:999px;background:var(--accent-weak);color:var(--accent)}.favorites-list[_ngcontent-%COMP%]{display:grid;gap:.75rem;margin-top:.75rem}.favorite[_ngcontent-%COMP%]{background:#f6f7fb;padding:.75rem;border-radius:10px}.meta[_ngcontent-%COMP%]{font-size:.85rem;opacity:.8}.status[_ngcontent-%COMP%]{font-size:.8rem;opacity:.9}.big[_ngcontent-%COMP%]{margin-top:12px;font-weight:900;font-size:20px}.small[_ngcontent-%COMP%]{margin-top:6px;color:var(--muted)}"]})};function it(o,t){if(o&1&&(i(0,"div",8),a(1),r()),o&2){let e=p();l(),g(e.error())}}function rt(o,t){o&1&&(i(0,"div",9),a(1,"Loading\u2026"),r())}function ot(o,t){if(o&1&&(i(0,"span"),a(1),r()),o&2){let e=p().$implicit;l(),j("\u2022 ",e.ageWeeks," weeks")}}function at(o,t){o&1&&(i(0,"div",20),a(1," Log in to save favorites. "),r())}function st(o,t){if(o&1){let e=A();i(0,"article",10)(1,"div",11)(2,"div")(3,"div",12),a(4),r(),i(5,"div",13),a(6),r()(),i(7,"button",14),c("click",function(){let d=S(e).$implicit,s=p();return P(s.toggleFavorite(d._id))}),i(8,"span",15),a(9,"\u2764"),r()()(),i(10,"div",16)(11,"span"),a(12),r(),f(13,ot,2,1,"span",17),r(),i(14,"p",18),a(15),r(),f(16,at,2,0,"div",19),r()}if(o&2){let e=t.$implicit,n=p();l(4),g(e.name),l(2),g(e.breed),l(),Pe("aria-label","Favorite "+e.name),l(),Q("on",n.isFav(e._id)),l(4),g(e.sex||"Unknown"),l(),m("ngIf",e.ageWeeks),l(2),g(e.description||"No description provided."),l(),m("ngIf",!n.auth.isLoggedIn())}}var de=class o{constructor(t,e){this.auth=t;this.fav=e;this.load()}query=u("");loading=u(!1);error=u("");dogs=u([]);filtered=R(()=>{let t=this.query().toLowerCase().trim();return t?this.dogs().filter(e=>`${e.name} ${e.breed}`.toLowerCase().includes(t)):this.dogs()});async load(){this.loading.set(!0),this.error.set("");try{let t=await fetch("/api/animals"),e=await t.json().catch(()=>null);if(!t.ok)throw new Error(e?.error||`Failed to load animals (${t.status})`);this.dogs.set(e?.animals||[])}catch(t){this.error.set(t?.message||"Failed to load animals."),this.dogs.set([])}finally{this.loading.set(!1)}}async toggleFavorite(t){if(!this.auth.isLoggedIn()){window.location.href="/customer/login";return}let e=this.fav.has(t);this.fav.toggle(t),await this.fav.toggleServerNoLocal(t,e);try{await this.fav.toggleServerNoLocal(t,e)}catch(n){this.fav.toggle(t),alert(n?.message||"Failed to update favorite.")}}isFav(t){return this.auth.isLoggedIn()?this.fav.has(t):!1}favKey(t){return t._id}static \u0275fac=function(e){return new(e||o)(h(L),h(z))};static \u0275cmp=v({type:o,selectors:[["app-browse"]],decls:10,vars:4,consts:[[1,"page"],[1,"container"],[1,"top"],["placeholder","Search by name or breed...",1,"search",3,"input","value"],["class","error",4,"ngIf"],["class","muted",4,"ngIf"],[1,"grid"],["class","card",4,"ngFor","ngForOf"],[1,"error"],[1,"muted"],[1,"card"],[1,"card-top"],[1,"name"],[1,"breed"],["type","button",1,"heart",3,"click"],[1,"heart-icon"],[1,"meta"],[4,"ngIf"],[1,"desc"],["class","hint",4,"ngIf"],[1,"hint"]],template:function(e,n){e&1&&(i(0,"main",0)(1,"div",1)(2,"div",2)(3,"h1"),a(4,"Browse Dogs"),r(),i(5,"input",3),c("input",function(s){return n.query.set(s.target.value)}),r()(),f(6,it,2,1,"div",4)(7,rt,2,0,"div",5),i(8,"div",6),f(9,st,17,9,"article",7),r()()()),e&2&&(l(5),m("value",n.query()),l(),m("ngIf",n.error()),l(),m("ngIf",n.loading()),l(2),m("ngForOf",n.filtered()))},dependencies:[y,U,M],styles:[".page[_ngcontent-%COMP%]{background:var(--bg);min-height:calc(100vh - 64px);padding:26px 16px}.container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto}.top[_ngcontent-%COMP%]{display:flex;align-items:end;justify-content:space-between;gap:12px;margin-bottom:14px}h1[_ngcontent-%COMP%]{margin:0;font-size:28px;font-weight:900}.search[_ngcontent-%COMP%]{width:min(420px,100%);padding:10px 12px;border-radius:14px;border:1px solid var(--border);background:#fff;font-size:14px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:14px}.card[_ngcontent-%COMP%]{background:#fff;border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:16px}.card-top[_ngcontent-%COMP%]{display:flex;align-items:start;justify-content:space-between;gap:10px}.name[_ngcontent-%COMP%]{font-weight:900;font-size:18px}.breed[_ngcontent-%COMP%]{color:var(--muted);font-weight:800;margin-top:2px}.meta[_ngcontent-%COMP%]{margin-top:8px;color:var(--muted);font-size:12px;font-weight:700}.desc[_ngcontent-%COMP%]{margin:10px 0 0;color:var(--text);opacity:.92;min-height:42px}.heart[_ngcontent-%COMP%]{border:1px solid var(--border);background:#fff;border-radius:12px;width:42px;height:42px;cursor:pointer;display:grid;place-items:center}.heart-icon[_ngcontent-%COMP%]{font-size:18px;color:#11182740}.heart-icon.on[_ngcontent-%COMP%]{color:#ef4444}.hint[_ngcontent-%COMP%]{margin-top:10px;font-size:12px;color:var(--muted);font-weight:700}"]})};function lt(o,t){if(o&1&&(i(0,"div",11),a(1),r()),o&2){let e=p();l(),g(e.error())}}var me=class o{constructor(t,e){this.auth=t;this.router=e}username="";password="";error=u("");async submit(){this.error.set("");let t=this.username.trim(),e=this.password;if(!t||!e?.trim()){this.error.set("Please enter a username and password.");return}try{if(!await this.auth.login(t,e)){this.error.set("Invalid username or password.");return}this.router.navigate(["/browse"])}catch(n){this.error.set(n?.message||"Login failed.")}}static \u0275fac=function(e){return new(e||o)(h(L),h(I))};static \u0275cmp=v({type:o,selectors:[["app-customer-login"]],decls:23,vars:3,consts:[[1,"page"],[1,"card"],[1,"muted"],[3,"ngSubmit"],[1,"field"],["name","username","placeholder","jane_doe",3,"ngModelChange","ngModel"],["name","password","type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["type","submit",1,"primary"],[1,"footer"],["routerLink","/customer/register"],[1,"error"]],template:function(e,n){e&1&&(i(0,"main",0)(1,"div",1)(2,"h1"),a(3,"Customer Login"),r(),i(4,"p",2),a(5,"Sign in to save your favorite dogs."),r(),i(6,"form",3),c("ngSubmit",function(){return n.submit()}),i(7,"div",4)(8,"label"),a(9,"Username"),r(),i(10,"input",5),C("ngModelChange",function(s){return b(n.username,s)||(n.username=s),s}),r()(),i(11,"div",4)(12,"label"),a(13,"Password"),r(),i(14,"input",6),C("ngModelChange",function(s){return b(n.password,s)||(n.password=s),s}),r()(),f(15,lt,2,1,"div",7),i(16,"button",8),a(17,"Login"),r(),i(18,"div",9)(19,"span",2),a(20,"New here?"),r(),i(21,"a",10),a(22,"Create an account"),r()()()()()),e&2&&(l(10),_("ngModel",n.username),l(4),_("ngModel",n.password),l(),m("ngIf",n.error()))},dependencies:[y,M,K,te,H,q,Z,G,ee,D],styles:[".page[_ngcontent-%COMP%]{background:var(--bg);min-height:calc(100vh - 64px);padding:26px 16px;display:grid;place-items:start center}.card[_ngcontent-%COMP%]{width:100%;max-width:420px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:20px}h1[_ngcontent-%COMP%]{margin:0 0 6px;font-size:22px;font-weight:900}.muted[_ngcontent-%COMP%]{margin:0 0 14px;color:var(--muted)}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;margin-bottom:12px}label[_ngcontent-%COMP%]{font-size:12px;font-weight:800;color:var(--muted)}input[_ngcontent-%COMP%]{padding:10px 12px;border-radius:12px;border:1px solid var(--border);font-size:14px;background:#fff}input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--accent)}.error[_ngcontent-%COMP%]{color:#b91c1c;background:#b91c1c14;border:1px solid rgba(185,28,28,.15);padding:10px 12px;border-radius:12px;margin-bottom:12px;font-weight:700;font-size:13px}button.primary[_ngcontent-%COMP%]{width:100%;border:none;border-radius:12px;padding:10px 12px;background:var(--accent);color:#fff;font-weight:900;cursor:pointer}.footer[_ngcontent-%COMP%]{margin-top:12px;display:flex;gap:8px;justify-content:center;font-size:13px}"]})};var W=class o{tokenKey="adminToken";userKey="adminUser";user=u(this.loadUser());loadUser(){let t=localStorage.getItem(this.userKey);return t?JSON.parse(t):null}isLoggedIn(){return!!localStorage.getItem(this.tokenKey)&&!!this.user()}getToken(){return localStorage.getItem(this.tokenKey)}async login(t,e){let n=t?.trim(),d=e?.trim();if(!n||!d)return!1;let s=await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:e})}),E=await s.json().catch(()=>null);if(!s.ok){if(s.status===401)return!1;throw new Error(E?.error||`Login failed (${s.status})`)}return localStorage.setItem(this.tokenKey,E.token),localStorage.setItem(this.userKey,JSON.stringify(E.user)),this.user.set(E.user),!0}logout(){localStorage.removeItem(this.tokenKey),localStorage.removeItem(this.userKey),this.user.set(null)}static \u0275fac=function(e){return new(e||o)};static \u0275prov=N({token:o,factory:o.\u0275fac,providedIn:"root"})};function dt(o,t){if(o&1&&(i(0,"div",13),a(1),r()),o&2){let e=p();l(),g(e.error())}}var ce=class o{constructor(t,e){this.auth=t;this.router=e}username="";password="";error=u("");async submit(){this.error.set("");let t=this.username.trim();if(!t||!this.password?.trim()){this.error.set("Please enter a username and password.");return}try{if(!await this.auth.login(t,this.password)){this.error.set("Invalid username or password.");return}this.router.navigate(["/admin/animals"])}catch(e){this.error.set(e?.message||"Login failed.")}}static \u0275fac=function(e){return new(e||o)(h(W),h(I))};static \u0275cmp=v({type:o,selectors:[["app-login"]],decls:25,vars:3,consts:[[1,"login-wrap"],[1,"card"],[1,"brand"],["src","/assets/logo.png","alt","Logo",1,"logo"],[1,"title"],[1,"subtitle"],[1,"muted"],[3,"ngSubmit"],[1,"field"],["name","username","placeholder","admin",3,"ngModelChange","ngModel"],["name","password","type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["type","submit",1,"primary"],[1,"error"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),x(3,"img",3),i(4,"div")(5,"div",4),a(6,"Grazioso Salvare"),r(),i(7,"div",5),a(8,"Admin Console"),r()()(),i(9,"h1"),a(10,"Sign in"),r(),i(11,"p",6),a(12,"Use your admin credentials to access the dashboard."),r(),i(13,"form",7),c("ngSubmit",function(){return n.submit()}),i(14,"div",8)(15,"label"),a(16,"Username"),r(),i(17,"input",9),C("ngModelChange",function(s){return b(n.username,s)||(n.username=s),s}),r()(),i(18,"div",8)(19,"label"),a(20,"Password"),r(),i(21,"input",10),C("ngModelChange",function(s){return b(n.password,s)||(n.password=s),s}),r()(),f(22,dt,2,1,"div",11),i(23,"button",12),a(24,"Login"),r()()()()),e&2&&(l(17),_("ngModel",n.username),l(4),_("ngModel",n.password),l(),m("ngIf",n.error()))},dependencies:[y,M,K,te,H,q,Z,G,ee],styles:[".login-wrap[_ngcontent-%COMP%]{min-height:calc(100vh - 64px);display:grid;place-items:center;padding:24px 16px}.card[_ngcontent-%COMP%]{width:100%;max-width:420px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:22px}.brand[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;margin-bottom:14px}.logo[_ngcontent-%COMP%]{width:42px;height:42px;border-radius:12px;object-fit:contain}.title[_ngcontent-%COMP%]{font-weight:800}.subtitle[_ngcontent-%COMP%]{color:var(--muted);font-size:12px;margin-top:2px}h1[_ngcontent-%COMP%]{margin:8px 0 4px;font-size:22px}.muted[_ngcontent-%COMP%]{color:var(--muted);margin:0 0 14px}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;margin-bottom:12px}label[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:var(--muted)}input[_ngcontent-%COMP%]{padding:10px 12px;border-radius:12px;border:1px solid var(--border);font-size:14px}input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--accent)}.error[_ngcontent-%COMP%]{color:#b91c1c;background:#b91c1c14;border:1px solid rgba(185,28,28,.15);padding:10px 12px;border-radius:12px;margin-bottom:12px;font-weight:600;font-size:13px}button.primary[_ngcontent-%COMP%]{width:100%;padding:10px 14px;border-radius:12px;border:none;background:var(--accent);color:#fff;font-weight:700;cursor:pointer}"]})};var pe=class o{constructor(t){this.adminAuth=t}headers(){let t=this.adminAuth.getToken();return w({"Content-Type":"application/json"},t?{Authorization:`Bearer ${t}`}:{})}async list(){let t=await fetch("/api/animals"),e=await t.json().catch(()=>null);if(!t.ok)throw new Error(e?.error||`List failed (${t.status})`);return e?.animals||[]}async create(t){let e=await fetch("/api/animals",{method:"POST",headers:this.headers(),body:JSON.stringify(t)}),n=await e.json().catch(()=>null);if(!e.ok)throw new Error(n?.error||`Create failed (${e.status})`);return n.animal}async remove(t){let e=await fetch(`/api/animals/${t}`,{method:"DELETE",headers:this.headers()}),n=await e.json().catch(()=>null);if(!e.ok)throw new Error(n?.error||`Delete failed (${e.status})`)}async update(t,e){let n=await fetch(`/api/animals/${t}`,{method:"PUT",headers:this.headers(),body:JSON.stringify(e)}),d=await n.json().catch(()=>null);if(!n.ok)throw new Error(d?.error||`Update failed (${n.status})`);return d.animal}static \u0275fac=function(e){return new(e||o)(B(W))};static \u0275prov=N({token:o,factory:o.\u0275fac,providedIn:"root"})};function ct(o,t){if(o&1&&(i(0,"div",44),a(1),r()),o&2){let e=p();l(),g(e.error())}}function pt(o,t){if(o&1&&(i(0,"div",45),a(1),r()),o&2){let e=p();l(),g(e.success())}}function gt(o,t){o&1&&(i(0,"span",36),a(1,"Loading\u2026"),r())}function ut(o,t){if(o&1){let e=A();i(0,"button",46),c("click",function(){S(e);let d=p();return P(d.cancelEdit())}),a(1," Cancel "),r()}}function ft(o,t){if(o&1){let e=A();i(0,"div",47),c("click",function(){let d=S(e).$implicit,s=p();return P(s.select(d._id))}),i(1,"div",48),a(2),r(),i(3,"div"),a(4),r(),i(5,"div"),a(6),r(),i(7,"div",49)(8,"button",46),c("click",function(d){let s=S(e).$implicit;return p().startEdit(s._id),P(d.stopPropagation())}),a(9," Edit "),r(),i(10,"button",50),c("click",function(d){let s=S(e).$implicit;return p().remove(s._id),P(d.stopPropagation())}),a(11," Delete "),r()()()}if(o&2){let e=t.$implicit,n=p();Q("selected",e._id===n.selectedId()),l(2),g(e.name),l(2),g(e.breed),l(2),g(e.status||"Available")}}var ge=class o{constructor(t,e){this.api=t;this.sanitizer=e;this.mapUrl=this.sanitizer.bypassSecurityTrustResourceUrl(this.makeOsmUrl(39.8283,-98.5795)),this.refresh()}animals=u([]);selectedId=u(null);editId=u(null);loading=u(!1);error=u("");success=u("");form=u({name:"",breed:"",sex:"",ageWeeks:"",rescueType:"",status:"Available",description:"",lat:"",lon:""});total=R(()=>this.animals().length);available=R(()=>this.animals().filter(t=>(t.status||"Available")==="Available").length);adopted=R(()=>this.animals().filter(t=>t.status==="Adoption").length);transfer=R(()=>this.animals().filter(t=>t.status==="Transfer").length);mapUrl;get isEditing(){return!!this.editId()}makeOsmUrl(t,e){return`https://www.openstreetmap.org/export/embed.html?bbox=${e-.2}%2C${t-.2}%2C${e+.2}%2C${t+.2}&layer=mapnik&marker=${t}%2C${e}`}animalToUi(t){let e=t.location?.coordinates,n=Array.isArray(e)&&e.length===2?e[0]:void 0,d=Array.isArray(e)&&e.length===2?e[1]:void 0;return k(w({},t),{lat:d,lon:n})}resetForm(){this.form.set({name:"",breed:"",sex:"",ageWeeks:"",rescueType:"",status:"Available",description:"",lat:"",lon:""})}async refresh(){this.error.set(""),this.success.set(""),this.loading.set(!0);try{let e=(await this.api.list()).map(n=>this.animalToUi(n));this.animals.set(e),!this.selectedId()&&e.length?this.select(e[0]._id):this.selectedId()&&!e.find(n=>n._id===this.selectedId())&&(this.selectedId.set(e.length?e[0]._id:null),e.length&&this.select(e[0]._id))}catch(t){this.error.set(t?.message||"Failed to load animals.")}finally{this.loading.set(!1)}}select(t){this.selectedId.set(t);let e=this.animals().find(s=>s._id===t),n=e?.lat??39.8283,d=e?.lon??-98.5795;this.mapUrl=this.sanitizer.bypassSecurityTrustResourceUrl(this.makeOsmUrl(n,d))}startEdit(t){let e=this.animals().find(n=>n._id===t);e&&(this.error.set(""),this.success.set(""),this.editId.set(t),this.select(t),this.form.set({name:e.name||"",breed:e.breed||"",sex:e.sex||"",ageWeeks:e.ageWeeks??"",rescueType:e.rescueType||"",status:e.status||"Available",description:e.description||"",lat:e.lat??"",lon:e.lon??""}))}cancelEdit(){this.editId.set(null),this.resetForm()}buildPayloadFromForm(){let t=this.form(),e=t.name.trim(),n=t.breed.trim();if(!e||!n)throw new Error("Name and breed are required.");let d={name:e,breed:n,sex:t.sex?.trim()||void 0,rescueType:t.rescueType?.trim()||void 0,status:t.status?.trim()||"Available",description:t.description?.trim()||void 0};if(String(t.ageWeeks).trim()!==""){let F=Number(t.ageWeeks);if(!Number.isFinite(F)||F<0)throw new Error("Age (weeks) must be a non-negative number.");d.ageWeeks=F}let s=String(t.lat).trim(),E=String(t.lon).trim();if(s!==""&&E!==""){let F=Number(s),be=Number(E);if(!Number.isFinite(F)||!Number.isFinite(be))throw new Error("Latitude/Longitude must be valid numbers.");d.location={coordinates:[be,F]}}return d}async save(){this.error.set(""),this.success.set("");let t;try{t=this.buildPayloadFromForm()}catch(e){this.error.set(e?.message||"Invalid form.");return}try{if(this.editId()){let e=this.editId();await this.api.update(e,t),this.success.set("Animal updated."),this.editId.set(null),this.resetForm()}else{let e=await this.api.create(t);this.success.set("Animal added."),this.resetForm(),this.select(e._id)}await this.refresh()}catch(e){this.error.set(e?.message||"Save failed.")}}async remove(t){this.error.set(""),this.success.set("");let e=this.animals().find(d=>d._id===t),n=e?`${e.name} (${e.breed})`:"this animal";if(confirm(`Delete ${n}?`))try{await this.api.remove(t),this.success.set("Animal deleted."),this.editId()===t&&(this.editId.set(null),this.resetForm()),await this.refresh()}catch(d){this.error.set(d?.message||"Delete failed.")}}static \u0275fac=function(e){return new(e||o)(h(pe),h(Ae))};static \u0275cmp=v({type:o,selectors:[["app-animals"]],decls:132,vars:22,consts:[[1,"breadcrumb"],[1,"sep"],[1,"current"],[1,"page-header"],["class","error",4,"ngIf"],["class","success",4,"ngIf"],[1,"stats"],[1,"stat-card"],[1,"stat-label"],[1,"stat-value"],[1,"grid"],[1,"card"],[1,"card-header"],["class","count",4,"ngIf"],[1,"form"],[1,"row"],[1,"field"],["placeholder","Buddy",3,"ngModelChange","ngModel"],["placeholder","Labrador Retriever",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["value",""],["value","Male"],["value","Female"],["type","number","min","0","placeholder","12",3,"ngModelChange","ngModel"],["value","Water"],["value","Mountain"],["value","Disaster"],["value","Available"],["value","Adoption"],["value","Transfer"],["rows","3","placeholder","Notes about the animal...",3,"ngModelChange","ngModel"],["placeholder","30.2672",3,"ngModelChange","ngModel"],["placeholder","-97.7431",3,"ngModelChange","ngModel"],[2,"display","flex","gap","10px","justify-content","flex-end"],["type","button",1,"primary",3,"click"],["type","button","class","ghost",3,"click",4,"ngIf"],[1,"count"],[1,"table"],[1,"row","header"],["class","row",3,"selected","click",4,"ngFor","ngForOf"],[1,"card","map-card"],[1,"map-wrap"],["loading","lazy","referrerpolicy","no-referrer-when-downgrade",1,"map",3,"src"],[1,"map-footer"],[1,"error"],[1,"success"],["type","button",1,"ghost",3,"click"],[1,"row",3,"click"],[1,"strong"],[2,"text-align","right","display","flex","gap","8px","justify-content","flex-end"],["type","button",1,"danger",3,"click"]],template:function(e,n){e&1&&(i(0,"nav",0)(1,"span"),a(2,"Admin"),r(),i(3,"span",1),a(4,"/"),r(),i(5,"span",2),a(6,"Animals"),r()(),i(7,"section",3)(8,"h1"),a(9,"Animals"),r(),i(10,"p"),a(11,"Admin dashboard for managing animals and mapping coordinates."),r()(),f(12,ct,2,1,"div",4)(13,pt,2,1,"div",5),i(14,"section",6)(15,"div",7)(16,"div",8),a(17,"Total Animals"),r(),i(18,"div",9),a(19),r()(),i(20,"div",7)(21,"div",8),a(22,"Available"),r(),i(23,"div",9),a(24),r()(),i(25,"div",7)(26,"div",8),a(27,"Adoptions"),r(),i(28,"div",9),a(29),r()(),i(30,"div",7)(31,"div",8),a(32,"Transfers"),r(),i(33,"div",9),a(34),r()()(),i(35,"section",10)(36,"section",11)(37,"div",12)(38,"h2"),a(39),r(),f(40,gt,2,0,"span",13),r(),i(41,"div",14)(42,"div",15)(43,"div",16)(44,"label"),a(45,"Name *"),r(),i(46,"input",17),C("ngModelChange",function(s){return b(n.form().name,s)||(n.form().name=s),s}),c("ngModelChange",function(s){return n.form.set(k(w({},n.form()),{name:s}))}),r()(),i(47,"div",16)(48,"label"),a(49,"Breed *"),r(),i(50,"input",18),C("ngModelChange",function(s){return b(n.form().breed,s)||(n.form().breed=s),s}),c("ngModelChange",function(s){return n.form.set(k(w({},n.form()),{breed:s}))}),r()()(),i(51,"div",15)(52,"div",16)(53,"label"),a(54,"Sex"),r(),i(55,"select",19),C("ngModelChange",function(s){return b(n.form().sex,s)||(n.form().sex=s),s}),c("ngModelChange",function(s){return n.form.set(k(w({},n.form()),{sex:s}))}),i(56,"option",20),a(57,"(none)"),r(),i(58,"option",21),a(59,"Male"),r(),i(60,"option",22),a(61,"Female"),r()()(),i(62,"div",16)(63,"label"),a(64,"Age (weeks)"),r(),i(65,"input",23),C("ngModelChange",function(s){return b(n.form().ageWeeks,s)||(n.form().ageWeeks=s),s}),c("ngModelChange",function(s){return n.form.set(k(w({},n.form()),{ageWeeks:s}))}),r()()(),i(66,"div",15)(67,"div",16)(68,"label"),a(69,"Rescue Type"),r(),i(70,"select",19),C("ngModelChange",function(s){return b(n.form().rescueType,s)||(n.form().rescueType=s),s}),c("ngModelChange",function(s){return n.form.set(k(w({},n.form()),{rescueType:s}))}),i(71,"option",20),a(72,"(none)"),r(),i(73,"option",24),a(74,"Water"),r(),i(75,"option",25),a(76,"Mountain"),r(),i(77,"option",26),a(78,"Disaster"),r()()(),i(79,"div",16)(80,"label"),a(81,"Status"),r(),i(82,"select",19),C("ngModelChange",function(s){return b(n.form().status,s)||(n.form().status=s),s}),c("ngModelChange",function(s){return n.form.set(k(w({},n.form()),{status:s}))}),i(83,"option",27),a(84,"Available"),r(),i(85,"option",28),a(86,"Adoption"),r(),i(87,"option",29),a(88,"Transfer"),r()()()(),i(89,"div",16)(90,"label"),a(91,"Description"),r(),i(92,"textarea",30),C("ngModelChange",function(s){return b(n.form().description,s)||(n.form().description=s),s}),c("ngModelChange",function(s){return n.form.set(k(w({},n.form()),{description:s}))}),r()(),i(93,"div",15)(94,"div",16)(95,"label"),a(96,"Latitude"),r(),i(97,"input",31),C("ngModelChange",function(s){return b(n.form().lat,s)||(n.form().lat=s),s}),c("ngModelChange",function(s){return n.form.set(k(w({},n.form()),{lat:s}))}),r()(),i(98,"div",16)(99,"label"),a(100,"Longitude"),r(),i(101,"input",32),C("ngModelChange",function(s){return b(n.form().lon,s)||(n.form().lon=s),s}),c("ngModelChange",function(s){return n.form.set(k(w({},n.form()),{lon:s}))}),r()()(),i(102,"div",33)(103,"button",34),c("click",function(){return n.save()}),a(104),r(),f(105,ut,2,0,"button",35),r()(),x(106,"hr"),i(107,"div",12)(108,"h2"),a(109,"Results"),r(),i(110,"span",36),a(111),r()(),i(112,"div",37)(113,"div",38)(114,"div"),a(115,"Name"),r(),i(116,"div"),a(117,"Breed"),r(),i(118,"div"),a(119,"Status"),r(),x(120,"div"),r(),f(121,ft,12,5,"div",39),r()(),i(122,"section",40)(123,"div",12)(124,"h2"),a(125,"Map"),r(),i(126,"span",36),a(127,"OpenStreetMap"),r()(),i(128,"div",41),x(129,"iframe",42),r(),i(130,"div",43),a(131," Click an animal to focus the map (uses location.coordinates when available). "),r()()()),e&2&&(l(12),m("ngIf",n.error()),l(),m("ngIf",n.success()),l(6),g(n.total()),l(5),g(n.available()),l(5),g(n.adopted()),l(5),g(n.transfer()),l(5),g(n.editId()?"Edit Animal":"Add Animal"),l(),m("ngIf",n.loading()),l(6),_("ngModel",n.form().name),l(4),_("ngModel",n.form().breed),l(5),_("ngModel",n.form().sex),l(10),_("ngModel",n.form().ageWeeks),l(5),_("ngModel",n.form().rescueType),l(12),_("ngModel",n.form().status),l(10),_("ngModel",n.form().description),l(5),_("ngModel",n.form().lat),l(4),_("ngModel",n.form().lon),l(3),j(" ",n.editId()?"Save Changes":"Add Animal"," "),l(),m("ngIf",n.editId()),l(6),j("",n.total()," animals"),l(10),m("ngForOf",n.animals()),l(8),m("src",n.mapUrl,Se))},dependencies:[y,U,M,K,Ne,De,H,Te,Fe,q,ze,G],styles:['.page-header[_ngcontent-%COMP%]{margin-bottom:18px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:28px;font-weight:900}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:6px 0 0;color:var(--muted)}.stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:14px;margin-bottom:18px}.stat-card[_ngcontent-%COMP%]{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:16px}.stat-label[_ngcontent-%COMP%]{color:var(--muted);font-weight:700;font-size:12px}.stat-value[_ngcontent-%COMP%]{margin-top:6px;font-size:28px;font-weight:900;letter-spacing:-.5px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.6fr 1fr;gap:16px}.card[_ngcontent-%COMP%]{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:16px}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}.card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:18px}.count[_ngcontent-%COMP%]{color:var(--muted);font-size:13px}.table[_ngcontent-%COMP%]{border:1px solid var(--border);border-radius:14px;overflow:hidden}.row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1.2fr .9fr;gap:12px;padding:12px;border-bottom:1px solid var(--border);font-size:14px}.row[_ngcontent-%COMP%]:last-child{border-bottom:none}.row.header[_ngcontent-%COMP%]{background:#11182708;font-weight:900;color:var(--muted);font-size:12px;text-transform:uppercase;letter-spacing:.5px}.strong[_ngcontent-%COMP%]{font-weight:800}.map-wrap[_ngcontent-%COMP%]{border:1px solid var(--border);border-radius:14px;overflow:hidden;height:360px}.map[_ngcontent-%COMP%]{width:100%;height:100%;border:0}.map-footer[_ngcontent-%COMP%]{margin-top:10px;color:var(--muted);font-size:12px}.stat-card[_ngcontent-%COMP%]{position:relative;overflow:hidden}.stat-card[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:auto 0 0;height:3px;background:var(--accent);opacity:.25}.grid[_ngcontent-%COMP%]{align-items:start}.card[_ngcontent-%COMP%]{transition:box-shadow .15s ease,transform .15s ease}.card[_ngcontent-%COMP%]:hover{box-shadow:0 12px 34px #11182714}.row[_ngcontent-%COMP%]:not(.header){cursor:pointer}.row[_ngcontent-%COMP%]:not(.header):hover{background:#2563eb0d}.breadcrumb[_ngcontent-%COMP%]{font-size:12px;color:var(--muted);margin-bottom:10px}.breadcrumb[_ngcontent-%COMP%]   .sep[_ngcontent-%COMP%]{margin:0 6px}.breadcrumb[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{font-weight:700;color:var(--text)}.error[_ngcontent-%COMP%]{margin:10px 0 14px;padding:12px 14px;border-radius:14px;border:1px solid rgba(239,68,68,.35);background:#ef444414;color:#b91c1c;font-weight:700;font-size:13px}.success[_ngcontent-%COMP%]{margin:10px 0 14px;padding:12px 14px;border-radius:14px;border:1px solid rgba(34,197,94,.35);background:#22c55e14;color:#15803d;font-weight:700;font-size:13px}.form[_ngcontent-%COMP%]{display:grid;gap:12px;margin-bottom:8px}.field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-size:12px;color:var(--muted);font-weight:800}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;border:1px solid var(--border);border-radius:14px;padding:10px 12px;background:var(--surface);color:var(--text);font-size:14px;outline:none}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#2563eb59;box-shadow:0 0 0 4px #2563eb1a}.row.selected[_ngcontent-%COMP%]{background:#2563eb14}.row[_ngcontent-%COMP%]{grid-template-columns:1fr 1.2fr .9fr .6fr}button.primary[_ngcontent-%COMP%]{border:0;border-radius:14px;padding:10px 14px;background:var(--accent);color:#fff;font-weight:900;cursor:pointer}button.primary[_ngcontent-%COMP%]:hover{filter:brightness(.95)}button.danger[_ngcontent-%COMP%]{border:1px solid rgba(239,68,68,.35);border-radius:12px;padding:8px 10px;background:#ef444414;color:#b91c1c;font-weight:900;cursor:pointer}button.danger[_ngcontent-%COMP%]:hover{background:#ef44441f}button.ghost[_ngcontent-%COMP%]{border:1px solid var(--border);border-radius:12px;padding:8px 10px;background:transparent;color:var(--text);font-weight:900;cursor:pointer}button.ghost[_ngcontent-%COMP%]:hover{background:#1118270a}']})};var Re=()=>{let o=fe(W),t=fe(I);return o.isLoggedIn()?!0:t.parseUrl("/admin/login")};var Be=[{path:"",component:re,children:[{path:"",component:le},{path:"browse",component:de},{path:"customer/login",component:me},{path:"customer/register",loadComponent:()=>import("./chunk-DMKJDLUV.js").then(o=>o.CustomerRegister)}]},{path:"admin",component:se,children:[{path:"login",component:ce},{path:"animals",component:ge,canActivate:[Re]},{path:"",redirectTo:"animals",pathMatch:"full"}]},{path:"**",redirectTo:""}];var Ue={providers:[ye(),Le(Be),ke()]};var ue=class o{title=u("cs499-ui");static \u0275fac=function(e){return new(e||o)};static \u0275cmp=v({type:o,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"page"],[1,"page-container"]],template:function(e,n){e&1&&(i(0,"main",0)(1,"div",1),x(2,"router-outlet"),r()())},dependencies:[V,y],styles:[".page[_ngcontent-%COMP%]{background:var(--bg);min-height:calc(100vh - 64px);padding:24px 16px}.page-container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto}"]})};Ee(ue,Ue).catch(o=>console.error(o));
