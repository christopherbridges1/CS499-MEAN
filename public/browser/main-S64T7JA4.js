import{$ as U,A as p,B as fe,C as Y,D as o,E as g,F as W,G as x,H as b,I as C,J as Pe,K as he,L as z,M as Oe,N as R,O as w,P as y,Q as Ee,R as Ae,S as ke,T as Ie,U as B,V as Q,W as L,X,Y as Te,Z as F,_ as N,a as S,aa as V,b as A,ba as Z,c as be,ca as ee,d as j,da as H,e as $,ea as te,f as ue,fa as Le,g as P,ga as Fe,h as O,ha as Ne,i as Ce,ia as De,j as u,ja as We,k as ye,ka as q,l as Me,m as we,n as l,o as h,p as v,q as f,r as Se,s as m,t as i,u as r,v as _,w as K,x as J,y as k,z as c}from"./chunk-IN7JLK5X.js";var D=class a{constructor(t){this.auth=t;this.syncCountFromStorage()}favoritesChanged=u(0);countSignal=u(0);key(){let t=this.auth.user();return t?`favorites:${t.id}`:"favorites:guest"}readSet(){let t=localStorage.getItem(this.key()),e=t?JSON.parse(t):[];return new Set(e)}writeSet(t){localStorage.setItem(this.key(),JSON.stringify(Array.from(t)))}syncCountFromStorage(){this.countSignal.set(this.readSet().size)}setIds(t){this.writeSet(new Set(t)),this.syncCountFromStorage()}list(){return Array.from(this.readSet())}has(t){return this.readSet().has(t)}toggle(t){let e=this.readSet();return e.has(t)?e.delete(t):e.add(t),this.writeSet(e),this.syncCountFromStorage(),this.favoritesChanged.update(n=>n+1),e.has(t)}count(){return this.readSet().size}clear(){this.writeSet(new Set),this.syncCountFromStorage(),this.favoritesChanged.update(t=>t+1)}async listAnimals(){let t=this.auth.getToken();if(!t)return[];let e=await fetch("/api/favorites",{headers:{Authorization:`Bearer ${t}`}}),n=await e.json().catch(()=>null);if(!e.ok||!n?.ok)throw new Error(n?.error||"Failed to load favorites");let d=n.animals||[],s=d.map(M=>M._id).filter(Boolean);return setTimeout(()=>this.setIds(s),0),d}async toggleServerNoLocal(t,e){let n=this.auth.getToken();if(!n)throw new Error("Not logged in");let d=e?"DELETE":"POST",s=await fetch(`/api/favorites/${t}`,{method:d,headers:{Authorization:`Bearer ${n}`}}),M=await s.json().catch(()=>({}));if(!s.ok||M?.ok===!1)throw new Error(M?.error||"Failed to update favorite");this.favoritesChanged.update(T=>T+1)}static \u0275fac=function(e){return new(e||a)($(F))};static \u0275prov=j({token:a,factory:a.\u0275fac,providedIn:"root"})};var Ve=()=>({exact:!0});function He(a,t){if(a&1&&(i(0,"span",13),o(1),r()),a&2){let e=p();l(),W(" \u2764\uFE0F ",e.fav.countSignal()," ")}}function qe(a,t){a&1&&(i(0,"a",14),o(1,"Login"),r())}function Ge(a,t){if(a&1){let e=k();i(0,"button",15),c("click",function(){P(e);let d=p();return O(d.auth.logout())}),o(1,"Logout"),r()}}var ne=class a{constructor(t,e){this.auth=t;this.fav=e}static \u0275fac=function(e){return new(e||a)(h(F),h(D))};static \u0275cmp=v({type:a,selectors:[["app-customer-header"]],decls:17,vars:6,consts:[[1,"topbar"],[1,"container"],["routerLink","/",1,"brand"],["alt","Grazioso Salvare logo",1,"logo",3,"src"],[1,"brand-text"],[1,"title"],[1,"subtitle"],[1,"nav"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions"],["routerLink","/browse","routerLinkActive","active"],["class","fav",4,"ngIf"],["class","cta","routerLink","/customer/login",4,"ngIf"],["class","ghost",3,"click",4,"ngIf"],[1,"fav"],["routerLink","/customer/login",1,"cta"],[1,"ghost",3,"click"]],template:function(e,n){e&1&&(i(0,"header",0)(1,"div",1)(2,"a",2),_(3,"img",3),i(4,"div",4)(5,"div",5),o(6,"Grazioso Salvare"),r(),i(7,"div",6),o(8,"Adoption & Rescue"),r()()(),i(9,"nav",7)(10,"a",8),o(11,"Home"),r(),i(12,"a",9),o(13,"Browse"),r(),f(14,He,2,1,"span",10)(15,qe,2,0,"a",11)(16,Ge,2,0,"button",12),r()()()),e&2&&(l(3),m("src","/assets/logo.png",Me),l(7),m("routerLinkActiveOptions",Pe(5,Ve)),l(4),m("ngIf",n.auth.isLoggedIn()),l(),m("ngIf",!n.auth.isLoggedIn()),l(),m("ngIf",n.auth.isLoggedIn()))},dependencies:[y,w,L,X],styles:[".topbar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10;background:#ffffffe6;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-bottom:1px solid var(--border)}.container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;padding:14px 16px;display:flex;align-items:center;justify-content:space-between;gap:16px}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;text-decoration:none}.logo[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;object-fit:contain}.title[_ngcontent-%COMP%]{font-weight:900}.subtitle[_ngcontent-%COMP%]{color:var(--muted);font-size:12px;margin-top:2px}.nav[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--muted);font-weight:800;padding:8px 10px;border-radius:12px}.nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#1118270d;color:var(--text)}.fav[_ngcontent-%COMP%]{font-weight:900;color:var(--text);background:#1118270d;border:1px solid var(--border);padding:7px 10px;border-radius:999px}a.cta[_ngcontent-%COMP%]{background:var(--accent);color:#fff!important;padding:9px 12px}button.ghost[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--border);padding:9px 12px;border-radius:12px;font-weight:900;cursor:pointer;color:var(--text)}.admin-link[_ngcontent-%COMP%]{border:1px solid var(--border);background:#fff;color:var(--muted)}.admin-link[_ngcontent-%COMP%]:hover{color:var(--text);background:#1118270d}"]})};var ie=class a{static \u0275fac=function(e){return new(e||a)};static \u0275cmp=v({type:a,selectors:[["app-customer-layout"]],decls:4,vars:0,consts:[[1,"page"],[1,"page-container"]],template:function(e,n){e&1&&(_(0,"app-customer-header"),i(1,"main",0)(2,"div",1),_(3,"router-outlet"),r()())},dependencies:[B,ne],styles:[".page[_ngcontent-%COMP%]{background:var(--bg);min-height:calc(100vh - 64px);padding:24px 16px}.page-container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto}"]})};function Ke(a,t){if(a&1){let e=k();i(0,"button",12),c("click",function(){P(e);let d=p();return O(d.auth.logout())}),o(1," Logout "),r()}}function Je(a,t){a&1&&(i(0,"a",13),o(1," Login "),r())}var re=class a{constructor(t){this.auth=t}static \u0275fac=function(e){return new(e||a)(h(N))};static \u0275cmp=v({type:a,selectors:[["app-header"]],decls:16,vars:2,consts:[[1,"topbar"],[1,"container"],["routerLink","/animals",1,"brand"],["src","/assets/logo.png","alt","Grazioso Salvare logo",1,"logo"],[1,"brand-text"],[1,"title"],[1,"pill"],[1,"subtitle"],[1,"nav"],["routerLink","/animals","routerLinkActive","active"],["class","logout",3,"click",4,"ngIf"],["class","login","routerLink","/login",4,"ngIf"],[1,"logout",3,"click"],["routerLink","/login",1,"login"]],template:function(e,n){e&1&&(i(0,"header",0)(1,"div",1)(2,"a",2),_(3,"img",3),i(4,"div",4)(5,"div",5),o(6," Grazioso Salvare "),i(7,"span",6),o(8,"ADMIN"),r()(),i(9,"div",7),o(10,"Animal Shelter Dashboard"),r()()(),i(11,"nav",8)(12,"a",9),o(13,"Animals"),r(),f(14,Ke,2,0,"button",10)(15,Je,2,0,"a",11),r()()()),e&2&&(l(14),m("ngIf",n.auth.isLoggedIn()),l(),m("ngIf",!n.auth.isLoggedIn()))},dependencies:[y,w,L,X],styles:[".topbar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10;background:#ffffffd9;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-bottom:1px solid var(--border)}.container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;padding:12px 16px;display:flex;align-items:center;justify-content:space-between;gap:16px}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;text-decoration:none}.logo[_ngcontent-%COMP%]{width:38px;height:38px;object-fit:contain;border-radius:10px}.brand-text[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:800;letter-spacing:.2px;font-size:15px;line-height:1.1}.brand-text[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:12px;color:var(--muted);margin-top:2px}.nav[_ngcontent-%COMP%]{display:flex;gap:10px}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--muted);padding:8px 10px;border-radius:12px;transition:background .15s ease,color .15s ease}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#1118270d;color:var(--text)}.nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:var(--accent-weak);color:var(--accent);font-weight:600}.pill[_ngcontent-%COMP%]{display:inline-flex;align-items:center;margin-left:8px;padding:3px 8px;border-radius:999px;font-size:11px;font-weight:800;letter-spacing:.6px;background:var(--accent-weak);color:var(--accent)}button.logout[_ngcontent-%COMP%]{padding:8px 10px;border-radius:12px;border:1px solid var(--border);background:transparent;color:var(--muted);cursor:pointer;font-weight:700}a.login[_ngcontent-%COMP%]{text-decoration:none;padding:8px 10px;border-radius:12px;background:var(--accent-weak);color:var(--accent);font-weight:800}"]})};var oe=class a{static \u0275fac=function(e){return new(e||a)};static \u0275cmp=v({type:a,selectors:[["app-admin-layout"]],decls:4,vars:0,consts:[[1,"page"],[1,"page-container"]],template:function(e,n){e&1&&(_(0,"app-header"),i(1,"main",0)(2,"div",1),_(3,"router-outlet"),r()())},dependencies:[B,re],styles:[".page[_ngcontent-%COMP%]{background:var(--bg);min-height:calc(100vh - 64px);padding:24px 16px}.page-container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto}"]})};function $e(a,t){a&1&&(K(0),i(1,"div",6),o(2,"Loading your favorites\u2026"),r(),J())}function Ye(a,t){if(a&1){let e=k();K(0),i(1,"div",6),o(2),r(),i(3,"a",7),c("click",function(){P(e);let d=p(2);return O(d.loadFavorites())}),o(4,"Retry \u2192"),r(),J()}if(a&2){let e=p(2);l(2),g(e.favoritesError)}}function Qe(a,t){if(a&1&&(i(0,"div",11)(1,"strong"),o(2),r(),i(3,"div",12),o(4),r(),i(5,"div",13),o(6),r()()),a&2){let e=t.$implicit;l(2),g(e.name),l(2),g(e.breed),l(2),g(e.status||"Available")}}function Xe(a,t){if(a&1&&(K(0),i(1,"div",8),f(2,Qe,7,3,"div",9),r(),i(3,"a",10),o(4,"View Favorites \u2192"),r(),J()),a&2){let e=p(2);l(2),m("ngForOf",e.favoriteAnimals)}}function Ze(a,t){a&1&&(i(0,"div",14),o(1,"Favorites \u2764\uFE0F"),r(),i(2,"div",6),o(3,"You haven\u2019t favorited any dogs yet."),r(),i(4,"a",10),o(5,"Browse Dogs \u2192"),r())}function et(a,t){if(a&1&&(K(0),f(1,$e,3,0,"ng-container",5)(2,Ye,5,1,"ng-container",5)(3,Xe,5,1,"ng-container",4)(4,Ze,6,0,"ng-template",null,1,he),J()),a&2){let e=fe(5),n=p();l(),m("ngIf",n.loadingFavorites),l(),m("ngIf",!n.loadingFavorites&&n.favoritesError),l(),m("ngIf",!n.loadingFavorites&&!n.favoritesError&&n.favoriteAnimals.length>0)("ngIfElse",e)}}function tt(a,t){a&1&&(i(0,"div",14),o(1,"Favorites \u2764\uFE0F"),r(),i(2,"div",6),o(3,"Log in to save dogs you love."),r(),i(4,"a",15),o(5,"Customer Login \u2192"),r())}var ae=class a{constructor(t,e,n,d){this.router=t;this.auth=e;this.favorites=n;this.cdr=d;console.log("Home constructor, current URL:",this.router.url),this.navSub=this.router.events.pipe(be(s=>s instanceof Ie)).subscribe(s=>{console.log("Navigation event:",s.url),(this.router.url==="/"||this.router.url.startsWith("/home"))&&this.loadFavorites()}),ye(()=>{this.auth.user(),console.log("Effect triggered, calling loadFavorites"),this.loadFavorites()})}favoriteAnimals=[];loadingFavorites=!1;favoritesError="";didRetryEmpty=!1;loadSeq=0;navSub;ngOnInit(){console.log("ngOnInit called"),this.loadFavorites()}ngOnDestroy(){this.navSub.unsubscribe()}async loadFavorites(){console.log("loadFavorites called, isLoggedIn:",this.auth.isLoggedIn());let t=++this.loadSeq;if(this.favoritesError="",!this.auth.isLoggedIn()){this.favoriteAnimals=[],this.didRetryEmpty=!1;return}this.loadingFavorites=!0;try{let e=await this.favorites.listAnimals();if(console.log("First fetch returned:",e.length,"animals"),e.length===0&&!this.didRetryEmpty){if(this.didRetryEmpty=!0,console.log("Retrying after 250ms..."),await new Promise(d=>setTimeout(d,250)),t!==this.loadSeq)return;let n=await this.favorites.listAnimals();console.log("Retry fetch returned:",n.length,"animals"),t===this.loadSeq&&(this.favoriteAnimals=n,this.cdr.detectChanges());return}this.didRetryEmpty=!1,t===this.loadSeq&&(console.log("Setting favoriteAnimals to:",e.length,"animals"),this.favoriteAnimals=e,this.cdr.detectChanges())}catch(e){console.log("Error loading favorites:",e),t===this.loadSeq&&(this.favoritesError=e?.message||"Failed to load favorites",this.favoriteAnimals=[],this.cdr.detectChanges())}finally{t===this.loadSeq&&(console.log("Setting loadingFavorites to false"),this.loadingFavorites=!1,this.cdr.detectChanges())}}static \u0275fac=function(e){return new(e||a)(h(Q),h(F),h(D),h(Oe))};static \u0275cmp=v({type:a,selectors:[["app-home"]],decls:6,vars:2,consts:[["loggedOut",""],["noneYet",""],[1,"hero-card"],[1,"badge"],[4,"ngIf","ngIfElse"],[4,"ngIf"],[1,"small"],[1,"ghost","small",2,"cursor","pointer",3,"click"],[1,"favorites-list"],["class","favorite",4,"ngFor","ngForOf"],["routerLink","/browse",1,"ghost","small"],[1,"favorite"],[1,"meta"],[1,"status"],[1,"big"],["routerLink","/customer/login",1,"ghost","small"]],template:function(e,n){if(e&1&&(i(0,"div",2)(1,"div",3),o(2,"Favorites \u2764\uFE0F"),r(),f(3,et,6,4,"ng-container",4)(4,tt,6,0,"ng-template",null,0,he),r()),e&2){let d=fe(5);l(3),m("ngIf",n.auth.isLoggedIn())("ngIfElse",d)}},dependencies:[y,R,w,L],styles:[".page[_ngcontent-%COMP%]{background:var(--bg);min-height:calc(100vh - 64px);padding:28px 16px}.hero[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;display:grid;grid-template-columns:1.5fr 1fr;gap:18px;align-items:start}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:42px;line-height:1.05;letter-spacing:-.8px}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0 0;color:var(--muted);font-size:16px;max-width:560px}.actions[_ngcontent-%COMP%]{margin-top:16px;display:flex;gap:10px}.actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-weight:900;border-radius:14px;padding:10px 14px}.actions[_ngcontent-%COMP%]   a.primary[_ngcontent-%COMP%]{background:var(--accent);color:#fff}.actions[_ngcontent-%COMP%]   a.ghost[_ngcontent-%COMP%]{border:1px solid var(--border);background:#fff;color:var(--text)}.hero-card[_ngcontent-%COMP%]{background:#fff;border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:18px}.badge[_ngcontent-%COMP%]{display:inline-block;font-weight:900;font-size:12px;padding:6px 10px;border-radius:999px;background:var(--accent-weak);color:var(--accent)}.favorites-list[_ngcontent-%COMP%]{display:grid;gap:.75rem;margin-top:.75rem}.favorite[_ngcontent-%COMP%]{background:#f6f7fb;padding:.75rem;border-radius:10px}.meta[_ngcontent-%COMP%]{font-size:.85rem;opacity:.8}.status[_ngcontent-%COMP%]{font-size:.8rem;opacity:.9}.big[_ngcontent-%COMP%]{margin-top:12px;font-weight:900;font-size:20px}.small[_ngcontent-%COMP%]{margin-top:6px;color:var(--muted)}"]})};function nt(a,t){if(a&1&&(i(0,"div",8),o(1),r()),a&2){let e=p();l(),g(e.error())}}function it(a,t){a&1&&(i(0,"div",9),o(1,"Loading\u2026"),r())}function rt(a,t){if(a&1&&(i(0,"span"),o(1),r()),a&2){let e=p().$implicit;l(),W("\u2022 ",e.ageWeeks," weeks")}}function ot(a,t){a&1&&(i(0,"div",20),o(1," Log in to save favorites. "),r())}function at(a,t){if(a&1){let e=k();i(0,"article",10)(1,"div",11)(2,"div")(3,"div",12),o(4),r(),i(5,"div",13),o(6),r()(),i(7,"button",14),c("click",function(){let d=P(e).$implicit,s=p();return O(s.toggleFavorite(d._id))}),i(8,"span",15),o(9,"\u2764"),r()()(),i(10,"div",16)(11,"span"),o(12),r(),f(13,rt,2,1,"span",17),r(),i(14,"p",18),o(15),r(),f(16,ot,2,0,"div",19),r()}if(a&2){let e=t.$implicit,n=p();l(4),g(e.name),l(2),g(e.breed),l(),Se("aria-label","Favorite "+e.name),l(),Y("on",n.isFav(e._id)),l(4),g(e.sex||"Unknown"),l(),m("ngIf",e.ageWeeks),l(2),g(e.description||"No description provided."),l(),m("ngIf",!n.auth.isLoggedIn())}}var se=class a{constructor(t,e){this.auth=t;this.fav=e;this.load()}query=u("");loading=u(!1);error=u("");dogs=u([]);filtered=z(()=>{let t=this.query().toLowerCase().trim();return t?this.dogs().filter(e=>`${e.name} ${e.breed}`.toLowerCase().includes(t)):this.dogs()});async load(){this.loading.set(!0),this.error.set("");try{let t=await fetch("/api/animals"),e=await t.json().catch(()=>null);if(!t.ok)throw new Error(e?.error||`Failed to load animals (${t.status})`);this.dogs.set(e?.animals||[])}catch(t){this.error.set(t?.message||"Failed to load animals."),this.dogs.set([])}finally{this.loading.set(!1)}}async toggleFavorite(t){if(!this.auth.isLoggedIn()){window.location.href="/customer/login";return}let e=this.fav.has(t);this.fav.toggle(t);try{await this.fav.toggleServerNoLocal(t,e)}catch(n){this.fav.toggle(t),alert(n?.message||"Failed to update favorite.")}}isFav(t){return this.auth.isLoggedIn()?this.fav.has(t):!1}favKey(t){return t._id}static \u0275fac=function(e){return new(e||a)(h(F),h(D))};static \u0275cmp=v({type:a,selectors:[["app-browse"]],decls:10,vars:4,consts:[[1,"page"],[1,"container"],[1,"top"],["placeholder","Search by name or breed...",1,"search",3,"input","value"],["class","error",4,"ngIf"],["class","muted",4,"ngIf"],[1,"grid"],["class","card",4,"ngFor","ngForOf"],[1,"error"],[1,"muted"],[1,"card"],[1,"card-top"],[1,"name"],[1,"breed"],["type","button",1,"heart",3,"click"],[1,"heart-icon"],[1,"meta"],[4,"ngIf"],[1,"desc"],["class","hint",4,"ngIf"],[1,"hint"]],template:function(e,n){e&1&&(i(0,"main",0)(1,"div",1)(2,"div",2)(3,"h1"),o(4,"Browse Dogs"),r(),i(5,"input",3),c("input",function(s){return n.query.set(s.target.value)}),r()(),f(6,nt,2,1,"div",4)(7,it,2,0,"div",5),i(8,"div",6),f(9,at,17,9,"article",7),r()()()),e&2&&(l(5),m("value",n.query()),l(),m("ngIf",n.error()),l(),m("ngIf",n.loading()),l(2),m("ngForOf",n.filtered()))},dependencies:[y,R,w],styles:[".page[_ngcontent-%COMP%]{background:var(--bg);min-height:calc(100vh - 64px);padding:26px 16px}.container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto}.top[_ngcontent-%COMP%]{display:flex;align-items:end;justify-content:space-between;gap:12px;margin-bottom:14px}h1[_ngcontent-%COMP%]{margin:0;font-size:28px;font-weight:900}.search[_ngcontent-%COMP%]{width:min(420px,100%);padding:10px 12px;border-radius:14px;border:1px solid var(--border);background:#fff;font-size:14px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:14px}.card[_ngcontent-%COMP%]{background:#fff;border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:16px}.card-top[_ngcontent-%COMP%]{display:flex;align-items:start;justify-content:space-between;gap:10px}.name[_ngcontent-%COMP%]{font-weight:900;font-size:18px}.breed[_ngcontent-%COMP%]{color:var(--muted);font-weight:800;margin-top:2px}.meta[_ngcontent-%COMP%]{margin-top:8px;color:var(--muted);font-size:12px;font-weight:700}.desc[_ngcontent-%COMP%]{margin:10px 0 0;color:var(--text);opacity:.92;min-height:42px}.heart[_ngcontent-%COMP%]{border:1px solid var(--border);background:#fff;border-radius:12px;width:42px;height:42px;cursor:pointer;display:grid;place-items:center}.heart-icon[_ngcontent-%COMP%]{font-size:18px;color:#11182740}.heart-icon.on[_ngcontent-%COMP%]{color:#ef4444}.hint[_ngcontent-%COMP%]{margin-top:10px;font-size:12px;color:var(--muted);font-weight:700}"]})};function st(a,t){if(a&1&&(i(0,"div",11),o(1),r()),a&2){let e=p();l(),g(e.error())}}var le=class a{constructor(t){this.auth=t}username="";password="";error=u("");async submit(){this.error.set("");let t=this.username.trim(),e=this.password;if(!t||!e?.trim()){this.error.set("Please enter a username and password.");return}try{await this.auth.login(t,e)}catch(n){this.error.set(n?.message||"Invalid username or password.")}}static \u0275fac=function(e){return new(e||a)(h(N))};static \u0275cmp=v({type:a,selectors:[["app-customer-login"]],decls:23,vars:3,consts:[[1,"page"],[1,"card"],[1,"muted"],[3,"ngSubmit"],[1,"field"],["name","username","placeholder","jane_doe",3,"ngModelChange","ngModel"],["name","password","type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["type","submit",1,"primary"],[1,"footer"],["routerLink","/customer/register"],[1,"error"]],template:function(e,n){e&1&&(i(0,"main",0)(1,"div",1)(2,"h1"),o(3,"Customer Login"),r(),i(4,"p",2),o(5,"Sign in to save your favorite dogs."),r(),i(6,"form",3),c("ngSubmit",function(){return n.submit()}),i(7,"div",4)(8,"label"),o(9,"Username"),r(),i(10,"input",5),C("ngModelChange",function(s){return b(n.username,s)||(n.username=s),s}),r()(),i(11,"div",4)(12,"label"),o(13,"Password"),r(),i(14,"input",6),C("ngModelChange",function(s){return b(n.password,s)||(n.password=s),s}),r()(),f(15,st,2,1,"div",7),i(16,"button",8),o(17,"Login"),r(),i(18,"div",9)(19,"span",2),o(20,"New here?"),r(),i(21,"a",10),o(22,"Create an account"),r()()()()()),e&2&&(l(10),x("ngModel",n.username),l(4),x("ngModel",n.password),l(),m("ngIf",n.error()))},dependencies:[y,w,q,te,U,V,Z,H,ee,L],styles:[".page[_ngcontent-%COMP%]{background:var(--bg);min-height:calc(100vh - 64px);padding:26px 16px;display:grid;place-items:start center}.card[_ngcontent-%COMP%]{width:100%;max-width:420px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:20px}h1[_ngcontent-%COMP%]{margin:0 0 6px;font-size:22px;font-weight:900}.muted[_ngcontent-%COMP%]{margin:0 0 14px;color:var(--muted)}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;margin-bottom:12px}label[_ngcontent-%COMP%]{font-size:12px;font-weight:800;color:var(--muted)}input[_ngcontent-%COMP%]{padding:10px 12px;border-radius:12px;border:1px solid var(--border);font-size:14px;background:#fff}input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--accent)}.error[_ngcontent-%COMP%]{color:#b91c1c;background:#b91c1c14;border:1px solid rgba(185,28,28,.15);padding:10px 12px;border-radius:12px;margin-bottom:12px;font-weight:700;font-size:13px}button.primary[_ngcontent-%COMP%]{width:100%;border:none;border-radius:12px;padding:10px 12px;background:var(--accent);color:#fff;font-weight:900;cursor:pointer}.footer[_ngcontent-%COMP%]{margin-top:12px;display:flex;gap:8px;justify-content:center;font-size:13px}"]})};function lt(a,t){if(a&1&&(i(0,"div",13),o(1),r()),a&2){let e=p();l(),g(e.error())}}var de=class a{constructor(t){this.auth=t}username="";password="";error=u("");async submit(){this.error.set("");try{await this.auth.login(this.username,this.password)}catch(t){this.error.set(t.message||"Login failed")}}static \u0275fac=function(e){return new(e||a)(h(N))};static \u0275cmp=v({type:a,selectors:[["app-login"]],decls:25,vars:3,consts:[[1,"login-wrap"],[1,"card"],[1,"brand"],["src","/assets/logo.png","alt","Logo",1,"logo"],[1,"title"],[1,"subtitle"],[1,"muted"],[3,"ngSubmit"],[1,"field"],["name","username","placeholder","admin",3,"ngModelChange","ngModel"],["name","password","type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["type","submit",1,"primary"],[1,"error"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),_(3,"img",3),i(4,"div")(5,"div",4),o(6,"Grazioso Salvare"),r(),i(7,"div",5),o(8,"Admin Console"),r()()(),i(9,"h1"),o(10,"Sign in"),r(),i(11,"p",6),o(12,"Use your admin credentials to access the dashboard."),r(),i(13,"form",7),c("ngSubmit",function(){return n.submit()}),i(14,"div",8)(15,"label"),o(16,"Username"),r(),i(17,"input",9),C("ngModelChange",function(s){return b(n.username,s)||(n.username=s),s}),r()(),i(18,"div",8)(19,"label"),o(20,"Password"),r(),i(21,"input",10),C("ngModelChange",function(s){return b(n.password,s)||(n.password=s),s}),r()(),f(22,lt,2,1,"div",11),i(23,"button",12),o(24,"Login"),r()()()()),e&2&&(l(17),x("ngModel",n.username),l(4),x("ngModel",n.password),l(),m("ngIf",n.error()))},dependencies:[y,w,q,te,U,V,Z,H,ee],encapsulation:2})};var me=class a{tokenKey="adminToken";userKey="adminUser";user=u(this.loadUser());loadUser(){let t=localStorage.getItem(this.userKey);return t?JSON.parse(t):null}isLoggedIn(){return!!localStorage.getItem(this.tokenKey)&&!!this.user()}getToken(){return localStorage.getItem(this.tokenKey)}async login(t,e){let n=t?.trim(),d=e?.trim();if(!n||!d)return!1;let s=await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:e})}),M=await s.json().catch(()=>null);if(!s.ok){if(s.status===401)return!1;throw new Error(M?.error||`Login failed (${s.status})`)}return localStorage.setItem(this.tokenKey,M.token),localStorage.setItem(this.userKey,JSON.stringify(M.user)),this.user.set(M.user),!0}logout(){localStorage.removeItem(this.tokenKey),localStorage.removeItem(this.userKey),this.user.set(null)}static \u0275fac=function(e){return new(e||a)};static \u0275prov=j({token:a,factory:a.\u0275fac,providedIn:"root"})};var ce=class a{constructor(t){this.adminAuth=t}headers(){let t=this.adminAuth.getToken();return S({"Content-Type":"application/json"},t?{Authorization:`Bearer ${t}`}:{})}async list(){let t=await fetch("/api/animals"),e=await t.json().catch(()=>null);if(!t.ok)throw new Error(e?.error||`List failed (${t.status})`);return e?.animals||[]}async create(t){let e=await fetch("/api/animals",{method:"POST",headers:this.headers(),body:JSON.stringify(t)}),n=await e.json().catch(()=>null);if(!e.ok)throw new Error(n?.error||`Create failed (${e.status})`);return n.animal}async remove(t){let e=await fetch(`/api/animals/${t}`,{method:"DELETE",headers:this.headers()}),n=await e.json().catch(()=>null);if(!e.ok)throw new Error(n?.error||`Delete failed (${e.status})`)}async update(t,e){let n=await fetch(`/api/animals/${t}`,{method:"PUT",headers:this.headers(),body:JSON.stringify(e)}),d=await n.json().catch(()=>null);if(!n.ok)throw new Error(d?.error||`Update failed (${n.status})`);return d.animal}static \u0275fac=function(e){return new(e||a)($(me))};static \u0275prov=j({token:a,factory:a.\u0275fac,providedIn:"root"})};function ct(a,t){if(a&1&&(i(0,"div",44),o(1),r()),a&2){let e=p();l(),g(e.error())}}function pt(a,t){if(a&1&&(i(0,"div",45),o(1),r()),a&2){let e=p();l(),g(e.success())}}function gt(a,t){a&1&&(i(0,"span",36),o(1,"Loading\u2026"),r())}function ut(a,t){if(a&1){let e=k();i(0,"button",46),c("click",function(){P(e);let d=p();return O(d.cancelEdit())}),o(1," Cancel "),r()}}function ft(a,t){if(a&1){let e=k();i(0,"div",47),c("click",function(){let d=P(e).$implicit,s=p();return O(s.select(d._id))}),i(1,"div",48),o(2),r(),i(3,"div"),o(4),r(),i(5,"div"),o(6),r(),i(7,"div",49)(8,"button",46),c("click",function(d){let s=P(e).$implicit;return p().startEdit(s._id),O(d.stopPropagation())}),o(9," Edit "),r(),i(10,"button",50),c("click",function(d){let s=P(e).$implicit;return p().remove(s._id),O(d.stopPropagation())}),o(11," Delete "),r()()()}if(a&2){let e=t.$implicit,n=p();Y("selected",e._id===n.selectedId()),l(2),g(e.name),l(2),g(e.breed),l(2),g(e.status||"Available")}}var pe=class a{constructor(t,e){this.api=t;this.sanitizer=e;this.mapUrl=this.sanitizer.bypassSecurityTrustResourceUrl(this.makeOsmUrl(39.8283,-98.5795)),this.refresh()}animals=u([]);selectedId=u(null);editId=u(null);loading=u(!1);error=u("");success=u("");form=u({name:"",breed:"",sex:"",ageWeeks:"",rescueType:"",status:"Available",description:"",lat:"",lon:""});total=z(()=>this.animals().length);available=z(()=>this.animals().filter(t=>(t.status||"Available")==="Available").length);adopted=z(()=>this.animals().filter(t=>t.status==="Adoption").length);transfer=z(()=>this.animals().filter(t=>t.status==="Transfer").length);mapUrl;get isEditing(){return!!this.editId()}makeOsmUrl(t,e){return`https://www.openstreetmap.org/export/embed.html?bbox=${e-.2}%2C${t-.2}%2C${e+.2}%2C${t+.2}&layer=mapnik&marker=${t}%2C${e}`}animalToUi(t){let e=t.location?.coordinates,n=Array.isArray(e)&&e.length===2?e[0]:void 0,d=Array.isArray(e)&&e.length===2?e[1]:void 0;return A(S({},t),{lat:d,lon:n})}resetForm(){this.form.set({name:"",breed:"",sex:"",ageWeeks:"",rescueType:"",status:"Available",description:"",lat:"",lon:""})}async refresh(){this.error.set(""),this.success.set(""),this.loading.set(!0);try{let e=(await this.api.list()).map(n=>this.animalToUi(n));this.animals.set(e),!this.selectedId()&&e.length?this.select(e[0]._id):this.selectedId()&&!e.find(n=>n._id===this.selectedId())&&(this.selectedId.set(e.length?e[0]._id:null),e.length&&this.select(e[0]._id))}catch(t){this.error.set(t?.message||"Failed to load animals.")}finally{this.loading.set(!1)}}select(t){this.selectedId.set(t);let e=this.animals().find(s=>s._id===t),n=e?.lat??39.8283,d=e?.lon??-98.5795;this.mapUrl=this.sanitizer.bypassSecurityTrustResourceUrl(this.makeOsmUrl(n,d))}startEdit(t){let e=this.animals().find(n=>n._id===t);e&&(this.error.set(""),this.success.set(""),this.editId.set(t),this.select(t),this.form.set({name:e.name||"",breed:e.breed||"",sex:e.sex||"",ageWeeks:e.ageWeeks??"",rescueType:e.rescueType||"",status:e.status||"Available",description:e.description||"",lat:e.lat??"",lon:e.lon??""}))}cancelEdit(){this.editId.set(null),this.resetForm()}buildPayloadFromForm(){let t=this.form(),e=t.name.trim(),n=t.breed.trim();if(!e||!n)throw new Error("Name and breed are required.");let d={name:e,breed:n,sex:t.sex?.trim()||void 0,rescueType:t.rescueType?.trim()||void 0,status:t.status?.trim()||"Available",description:t.description?.trim()||void 0};if(String(t.ageWeeks).trim()!==""){let T=Number(t.ageWeeks);if(!Number.isFinite(T)||T<0)throw new Error("Age (weeks) must be a non-negative number.");d.ageWeeks=T}let s=String(t.lat).trim(),M=String(t.lon).trim();if(s!==""&&M!==""){let T=Number(s),xe=Number(M);if(!Number.isFinite(T)||!Number.isFinite(xe))throw new Error("Latitude/Longitude must be valid numbers.");d.location={coordinates:[xe,T]}}return d}async save(){this.error.set(""),this.success.set("");let t;try{t=this.buildPayloadFromForm()}catch(e){this.error.set(e?.message||"Invalid form.");return}try{if(this.editId()){let e=this.editId();await this.api.update(e,t),this.success.set("Animal updated."),this.editId.set(null),this.resetForm()}else{let e=await this.api.create(t);this.success.set("Animal added."),this.resetForm(),this.select(e._id)}await this.refresh()}catch(e){this.error.set(e?.message||"Save failed.")}}async remove(t){this.error.set(""),this.success.set("");let e=this.animals().find(d=>d._id===t),n=e?`${e.name} (${e.breed})`:"this animal";if(confirm(`Delete ${n}?`))try{await this.api.remove(t),this.success.set("Animal deleted."),this.editId()===t&&(this.editId.set(null),this.resetForm()),await this.refresh()}catch(d){this.error.set(d?.message||"Delete failed.")}}static \u0275fac=function(e){return new(e||a)(h(ce),h(ke))};static \u0275cmp=v({type:a,selectors:[["app-animals"]],decls:132,vars:22,consts:[[1,"breadcrumb"],[1,"sep"],[1,"current"],[1,"page-header"],["class","error",4,"ngIf"],["class","success",4,"ngIf"],[1,"stats"],[1,"stat-card"],[1,"stat-label"],[1,"stat-value"],[1,"grid"],[1,"card"],[1,"card-header"],["class","count",4,"ngIf"],[1,"form"],[1,"row"],[1,"field"],["placeholder","Buddy",3,"ngModelChange","ngModel"],["placeholder","Labrador Retriever",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["value",""],["value","Male"],["value","Female"],["type","number","min","0","placeholder","12",3,"ngModelChange","ngModel"],["value","Water"],["value","Mountain"],["value","Disaster"],["value","Available"],["value","Adoption"],["value","Transfer"],["rows","3","placeholder","Notes about the animal...",3,"ngModelChange","ngModel"],["placeholder","30.2672",3,"ngModelChange","ngModel"],["placeholder","-97.7431",3,"ngModelChange","ngModel"],[2,"display","flex","gap","10px","justify-content","flex-end"],["type","button",1,"primary",3,"click"],["type","button","class","ghost",3,"click",4,"ngIf"],[1,"count"],[1,"table"],[1,"row","header"],["class","row",3,"selected","click",4,"ngFor","ngForOf"],[1,"card","map-card"],[1,"map-wrap"],["loading","lazy","referrerpolicy","no-referrer-when-downgrade",1,"map",3,"src"],[1,"map-footer"],[1,"error"],[1,"success"],["type","button",1,"ghost",3,"click"],[1,"row",3,"click"],[1,"strong"],[2,"text-align","right","display","flex","gap","8px","justify-content","flex-end"],["type","button",1,"danger",3,"click"]],template:function(e,n){e&1&&(i(0,"nav",0)(1,"span"),o(2,"Admin"),r(),i(3,"span",1),o(4,"/"),r(),i(5,"span",2),o(6,"Animals"),r()(),i(7,"section",3)(8,"h1"),o(9,"Animals"),r(),i(10,"p"),o(11,"Admin dashboard for managing animals and mapping coordinates."),r()(),f(12,ct,2,1,"div",4)(13,pt,2,1,"div",5),i(14,"section",6)(15,"div",7)(16,"div",8),o(17,"Total Animals"),r(),i(18,"div",9),o(19),r()(),i(20,"div",7)(21,"div",8),o(22,"Available"),r(),i(23,"div",9),o(24),r()(),i(25,"div",7)(26,"div",8),o(27,"Adoptions"),r(),i(28,"div",9),o(29),r()(),i(30,"div",7)(31,"div",8),o(32,"Transfers"),r(),i(33,"div",9),o(34),r()()(),i(35,"section",10)(36,"section",11)(37,"div",12)(38,"h2"),o(39),r(),f(40,gt,2,0,"span",13),r(),i(41,"div",14)(42,"div",15)(43,"div",16)(44,"label"),o(45,"Name *"),r(),i(46,"input",17),C("ngModelChange",function(s){return b(n.form().name,s)||(n.form().name=s),s}),c("ngModelChange",function(s){return n.form.set(A(S({},n.form()),{name:s}))}),r()(),i(47,"div",16)(48,"label"),o(49,"Breed *"),r(),i(50,"input",18),C("ngModelChange",function(s){return b(n.form().breed,s)||(n.form().breed=s),s}),c("ngModelChange",function(s){return n.form.set(A(S({},n.form()),{breed:s}))}),r()()(),i(51,"div",15)(52,"div",16)(53,"label"),o(54,"Sex"),r(),i(55,"select",19),C("ngModelChange",function(s){return b(n.form().sex,s)||(n.form().sex=s),s}),c("ngModelChange",function(s){return n.form.set(A(S({},n.form()),{sex:s}))}),i(56,"option",20),o(57,"(none)"),r(),i(58,"option",21),o(59,"Male"),r(),i(60,"option",22),o(61,"Female"),r()()(),i(62,"div",16)(63,"label"),o(64,"Age (weeks)"),r(),i(65,"input",23),C("ngModelChange",function(s){return b(n.form().ageWeeks,s)||(n.form().ageWeeks=s),s}),c("ngModelChange",function(s){return n.form.set(A(S({},n.form()),{ageWeeks:s}))}),r()()(),i(66,"div",15)(67,"div",16)(68,"label"),o(69,"Rescue Type"),r(),i(70,"select",19),C("ngModelChange",function(s){return b(n.form().rescueType,s)||(n.form().rescueType=s),s}),c("ngModelChange",function(s){return n.form.set(A(S({},n.form()),{rescueType:s}))}),i(71,"option",20),o(72,"(none)"),r(),i(73,"option",24),o(74,"Water"),r(),i(75,"option",25),o(76,"Mountain"),r(),i(77,"option",26),o(78,"Disaster"),r()()(),i(79,"div",16)(80,"label"),o(81,"Status"),r(),i(82,"select",19),C("ngModelChange",function(s){return b(n.form().status,s)||(n.form().status=s),s}),c("ngModelChange",function(s){return n.form.set(A(S({},n.form()),{status:s}))}),i(83,"option",27),o(84,"Available"),r(),i(85,"option",28),o(86,"Adoption"),r(),i(87,"option",29),o(88,"Transfer"),r()()()(),i(89,"div",16)(90,"label"),o(91,"Description"),r(),i(92,"textarea",30),C("ngModelChange",function(s){return b(n.form().description,s)||(n.form().description=s),s}),c("ngModelChange",function(s){return n.form.set(A(S({},n.form()),{description:s}))}),r()(),i(93,"div",15)(94,"div",16)(95,"label"),o(96,"Latitude"),r(),i(97,"input",31),C("ngModelChange",function(s){return b(n.form().lat,s)||(n.form().lat=s),s}),c("ngModelChange",function(s){return n.form.set(A(S({},n.form()),{lat:s}))}),r()(),i(98,"div",16)(99,"label"),o(100,"Longitude"),r(),i(101,"input",32),C("ngModelChange",function(s){return b(n.form().lon,s)||(n.form().lon=s),s}),c("ngModelChange",function(s){return n.form.set(A(S({},n.form()),{lon:s}))}),r()()(),i(102,"div",33)(103,"button",34),c("click",function(){return n.save()}),o(104),r(),f(105,ut,2,0,"button",35),r()(),_(106,"hr"),i(107,"div",12)(108,"h2"),o(109,"Results"),r(),i(110,"span",36),o(111),r()(),i(112,"div",37)(113,"div",38)(114,"div"),o(115,"Name"),r(),i(116,"div"),o(117,"Breed"),r(),i(118,"div"),o(119,"Status"),r(),_(120,"div"),r(),f(121,ft,12,5,"div",39),r()(),i(122,"section",40)(123,"div",12)(124,"h2"),o(125,"Map"),r(),i(126,"span",36),o(127,"OpenStreetMap"),r()(),i(128,"div",41),_(129,"iframe",42),r(),i(130,"div",43),o(131," Click an animal to focus the map (uses location.coordinates when available). "),r()()()),e&2&&(l(12),m("ngIf",n.error()),l(),m("ngIf",n.success()),l(6),g(n.total()),l(5),g(n.available()),l(5),g(n.adopted()),l(5),g(n.transfer()),l(5),g(n.editId()?"Edit Animal":"Add Animal"),l(),m("ngIf",n.loading()),l(6),x("ngModel",n.form().name),l(4),x("ngModel",n.form().breed),l(5),x("ngModel",n.form().sex),l(10),x("ngModel",n.form().ageWeeks),l(5),x("ngModel",n.form().rescueType),l(12),x("ngModel",n.form().status),l(10),x("ngModel",n.form().description),l(5),x("ngModel",n.form().lat),l(4),x("ngModel",n.form().lon),l(3),W(" ",n.editId()?"Save Changes":"Add Animal"," "),l(),m("ngIf",n.editId()),l(6),W("",n.total()," animals"),l(10),m("ngForOf",n.animals()),l(8),m("src",n.mapUrl,we))},dependencies:[y,R,w,q,Ne,De,U,Le,Fe,V,We,H],styles:['.page-header[_ngcontent-%COMP%]{margin-bottom:18px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:28px;font-weight:900}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:6px 0 0;color:var(--muted)}.stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:14px;margin-bottom:18px}.stat-card[_ngcontent-%COMP%]{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:16px}.stat-label[_ngcontent-%COMP%]{color:var(--muted);font-weight:700;font-size:12px}.stat-value[_ngcontent-%COMP%]{margin-top:6px;font-size:28px;font-weight:900;letter-spacing:-.5px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.6fr 1fr;gap:16px}.card[_ngcontent-%COMP%]{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:16px}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}.card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:18px}.count[_ngcontent-%COMP%]{color:var(--muted);font-size:13px}.table[_ngcontent-%COMP%]{border:1px solid var(--border);border-radius:14px;overflow:hidden}.row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1.2fr .9fr;gap:12px;padding:12px;border-bottom:1px solid var(--border);font-size:14px}.row[_ngcontent-%COMP%]:last-child{border-bottom:none}.row.header[_ngcontent-%COMP%]{background:#11182708;font-weight:900;color:var(--muted);font-size:12px;text-transform:uppercase;letter-spacing:.5px}.strong[_ngcontent-%COMP%]{font-weight:800}.map-wrap[_ngcontent-%COMP%]{border:1px solid var(--border);border-radius:14px;overflow:hidden;height:360px}.map[_ngcontent-%COMP%]{width:100%;height:100%;border:0}.map-footer[_ngcontent-%COMP%]{margin-top:10px;color:var(--muted);font-size:12px}.stat-card[_ngcontent-%COMP%]{position:relative;overflow:hidden}.stat-card[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:auto 0 0;height:3px;background:var(--accent);opacity:.25}.grid[_ngcontent-%COMP%]{align-items:start}.card[_ngcontent-%COMP%]{transition:box-shadow .15s ease,transform .15s ease}.card[_ngcontent-%COMP%]:hover{box-shadow:0 12px 34px #11182714}.row[_ngcontent-%COMP%]:not(.header){cursor:pointer}.row[_ngcontent-%COMP%]:not(.header):hover{background:#2563eb0d}.breadcrumb[_ngcontent-%COMP%]{font-size:12px;color:var(--muted);margin-bottom:10px}.breadcrumb[_ngcontent-%COMP%]   .sep[_ngcontent-%COMP%]{margin:0 6px}.breadcrumb[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{font-weight:700;color:var(--text)}.error[_ngcontent-%COMP%]{margin:10px 0 14px;padding:12px 14px;border-radius:14px;border:1px solid rgba(239,68,68,.35);background:#ef444414;color:#b91c1c;font-weight:700;font-size:13px}.success[_ngcontent-%COMP%]{margin:10px 0 14px;padding:12px 14px;border-radius:14px;border:1px solid rgba(34,197,94,.35);background:#22c55e14;color:#15803d;font-weight:700;font-size:13px}.form[_ngcontent-%COMP%]{display:grid;gap:12px;margin-bottom:8px}.field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-size:12px;color:var(--muted);font-weight:800}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;border:1px solid var(--border);border-radius:14px;padding:10px 12px;background:var(--surface);color:var(--text);font-size:14px;outline:none}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#2563eb59;box-shadow:0 0 0 4px #2563eb1a}.row.selected[_ngcontent-%COMP%]{background:#2563eb14}.row[_ngcontent-%COMP%]{grid-template-columns:1fr 1.2fr .9fr .6fr}button.primary[_ngcontent-%COMP%]{border:0;border-radius:14px;padding:10px 14px;background:var(--accent);color:#fff;font-weight:900;cursor:pointer}button.primary[_ngcontent-%COMP%]:hover{filter:brightness(.95)}button.danger[_ngcontent-%COMP%]{border:1px solid rgba(239,68,68,.35);border-radius:12px;padding:8px 10px;background:#ef444414;color:#b91c1c;font-weight:900;cursor:pointer}button.danger[_ngcontent-%COMP%]:hover{background:#ef44441f}button.ghost[_ngcontent-%COMP%]{border:1px solid var(--border);border-radius:12px;padding:8px 10px;background:transparent;color:var(--text);font-weight:900;cursor:pointer}button.ghost[_ngcontent-%COMP%]:hover{background:#1118270a}']})};var Re=()=>{let a=ue(N),t=ue(Q);return a.isLoggedIn()&&a.isAdmin()?!0:(t.navigate(["/"]),!1)};var Be=[{path:"",component:ie,children:[{path:"",component:ae},{path:"browse",component:se},{path:"customer/login",component:le},{path:"customer/register",loadComponent:()=>import("./chunk-VGE7WKSN.js").then(a=>a.CustomerRegister)}]},{path:"admin",component:oe,children:[{path:"login",component:de},{path:"animals",component:pe,canActivate:[Re]},{path:"",redirectTo:"animals",pathMatch:"full"}]},{path:"**",redirectTo:""}];var Ue={providers:[Ce(),Te(Be),Ae()]};var ge=class a{title=u("cs499-ui");static \u0275fac=function(e){return new(e||a)};static \u0275cmp=v({type:a,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"page"],[1,"page-container"]],template:function(e,n){e&1&&(i(0,"main",0)(1,"div",1),_(2,"router-outlet"),r()())},dependencies:[B,y],styles:[".page[_ngcontent-%COMP%]{background:var(--bg);min-height:calc(100vh - 64px);padding:24px 16px}.page-container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto}"]})};Ee(ge,Ue).catch(a=>console.error(a));
